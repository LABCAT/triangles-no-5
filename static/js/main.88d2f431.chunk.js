(this["webpackJsonptriangles-no-5"]=this["webpackJsonptriangles-no-5"]||[]).push([[0],{17:function(e,t,i){},30:function(e,t,i){"use strict";i.r(t);var n=i(1),s=i.n(n),r=i(9),a=i.n(r),o=(i(17),i(2));window.p5=o;i(19);var c=i(10),d=i(0);function h(){return Object(d.jsxs)("svg",{id:"play-icon",className:"fade-out",xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[Object(d.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(d.jsx)("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})]})}var u=function(e,t){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,s=[],r=0;r<4;){t=(t+=90*r)<360?t:t-360;var a=e.color(t,i,n,1);s.push(a),r++}return s};var l=function(e){for(var t,i,n=e.length;0!==n;)i=Math.floor(Math.random()*n),t=e[n-=1],e[n]=e[i],e[i]=t;return e},g=i(11),p=i(12),m=function(){function e(t,i,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:200,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"s-e",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1e3;Object(g.a)(this,e),this.canDraw=!1,this.p=t,this.destination=i,this.colour=n,this.size=s,this.currentFrame=0,this.setOrigin(r,i),this.setDirection(r),this.setLifeTime(a)}return Object(p.a)(e,[{key:"setOrigin",value:function(e,t){switch(e){case"n-e":this.origin=this.p.createVector(0,this.p.height);break;case"s-e":this.origin=this.p.createVector(0,0);break;case"n-w":this.origin=this.p.createVector(this.p.width,this.p.height);break;case"s-w":this.origin=this.p.createVector(this.p.width,0)}}},{key:"setDirection",value:function(e){switch(this.direction=e,e){case"n-e":this.rotationDirection=-30;break;case"s-e":this.rotationDirection=30;break;case"n-w":this.rotationDirection=-150;break;case"s-w":this.rotationDirection=150}}},{key:"setLifeTime",value:function(e){var t=this.p.getFrameRate()?this.p.getFrameRate():60;this.totalFrames=t/1e3*e}},{key:"draw",value:function(){if(this.canDraw){var e=this.size*this.p.cos(0),t=this.size*this.p.sin(0),i=this.size*this.p.cos(120),n=this.size*this.p.sin(120),s=this.size*this.p.cos(240),r=this.size*this.p.sin(240),a=this.destination;if(this.currentFrame<this.totalFrames){var o=this.p.min(1,this.currentFrame/this.totalFrames),c=window.p5.Vector.sub(this.destination,this.origin).mult(o);a=window.p5.Vector.add(this.origin,c)}this.p.push(),this.p.noStroke(),this.p.translate(a.x,a.y),this.p.rotate(this.rotationDirection),this.p.fill(this.colour),this.p.triangle(e,t,i,n,s,r),this.p.scale(.9),this.p.fill(this.colour._getHue(),100,25,this.colour._getAlpha()),this.p.triangle(0,0,i,n,s,r),this.p.fill(this.colour._getHue(),100,50,this.colour._getAlpha()),this.p.triangle(e,t,0,0,s,r),this.p.fill(this.colour._getHue(),100,75,this.colour._getAlpha()),this.p.triangle(e,t,i,n,0,0),this.p.stroke(360),this.p.noFill(),this.p.scale(.83333),this.p.triangle(0,0,i,n,s,r),this.p.triangle(e,t,0,0,s,r),this.p.triangle(e,t,i,n,0,0),this.p.scale(1.33333),this.p.rotate(-this.rotationDirection),this.p.translate(-a.x,-a.y),this.p.pop(),this.currentFrame++}}}]),e}(),f=i.p+"static/media/triangles-no-5.4621c75d.ogg",v=i.p+"static/media/triangles-no-5.3bc7d07c.mid",w=function(){var e=Object(n.useRef)(),t=function(e){e.canvas=null,e.canvasWidth=window.innerWidth,e.canvasHeight=window.innerHeight,e.audioLoaded=!1,e.player=null,e.PPQ=15360,e.bpm=106,e.barAsSeconds=60/e.bpm*4,e.loadMidi=function(){c.Midi.fromUrl(v).then((function(t){var i=t.tracks[0].notes,n=t.tracks[6].notes,s=t.tracks[7].notes,r=t.tracks[4].notes;e.scheduleCueSet(i,"executeCueSet1"),e.scheduleCueSet(n,"executeCueSet2"),e.scheduleCueSet(s,"executeCueSet3"),e.scheduleCueSet(r,"executeCueSet4"),e.audioLoaded=!0,document.getElementById("loader").classList.add("loading--complete"),document.getElementById("play-icon").classList.remove("fade-out")}))},e.preload=function(){e.song=e.loadSound(f,e.loadMidi),e.song.onended(e.logCredits)},e.scheduleCueSet=function(t,i){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=-1,r=1,a=0;a<t.length;a++){var o=t[a],c=o.ticks,d=o.time;(c!==s||n)&&(o.currentCue=r,e.song.addCue(d,e[i],o),s=c,r++)}},e.directions=["n-w","s-w","n-e","s-e"],e.triangles=[],e.packedTrianglesSet=[],e.setup=function(){e.canvas=e.createCanvas(e.canvasWidth,e.canvasHeight),e.colorMode(e.HSB),e.angleMode(e.DEGREES),e.background(255),e.directions=l(e.directions),e.direction=e.directions[0],e.colourScheme=u(e,e.random(360));for(var t=e.colourScheme[0],i=0,n=0,s=0;e.packedTrianglesSet.length<222;){i=e.random(0,e.width),n=e.random(0,e.height),e.packedTrianglesSet.length>=106?(e.direction=e.directions[3],s=e.random(e.width/96,e.width/128),t=e.colourScheme[3]):e.packedTrianglesSet.length>=76?(e.direction=e.directions[1],s=e.random(e.width/16,e.width/32),t=e.colourScheme[2]):e.packedTrianglesSet.length>=20?(e.direction=e.directions[2],s=e.random(e.width/48,e.width/80),t=e.colourScheme[1]):(e.direction=e.directions[0],s=e.random(e.width/32,e.width/64));for(var r={x:i,y:n,r:s},a=!1,o=0;o<e.packedTrianglesSet.length;o++){var c=e.packedTrianglesSet[o];if(e.dist(r.x,r.y,c.x,c.y)<r.r+c.r){a=!0;break}}a||(e.packedTrianglesSet.push(r),e.triangles.push(new m(e,e.createVector(i,n),t,s,e.direction)))}},e.draw=function(){if(e.audioLoaded&&e.song.isPlaying()){e.background(255);for(var t=0;t<e.triangles.length;t++){e.triangles[t].draw()}}},e.largeTriIndex=0,e.executeCueSet1=function(t){var i=t.currentCue,n=!1,s=e.barAsSeconds;if([1,17,33,49,57].includes(i%64)&&(n=!0,s=[49,57].includes(i%64)?s/2:s),n){var r=e.triangles[e.largeTriIndex];r.setLifeTime(1e3*s),r.canDraw=!0,e.largeTriIndex++}},e.mediumTriIndex=20,e.smallTriIndex=106,e.executeCueSet2=function(t){var i=t.currentCue,n=t.duration,s=!1,r=!1;if([1,2,3,6,7,10,11,12,16,17,18].includes(i%20)&&(s=!0,[3,7,12,18].includes(i%20)&&(r=!0)),s){var a=r?e.triangles[e.mediumTriIndex]:e.triangles[e.smallTriIndex];a.setLifeTime(1e3*n),a.canDraw=!0,r?e.mediumTriIndex++:e.smallTriIndex++}},e.giantTriIndex=76,e.executeCueSet3=function(t){var i=t.currentCue,n=!1,s=e.barAsSeconds;if([1,10,19,28,32].includes(i%36)&&(n=!0,s=[28,32].includes(i%36)?s/2:s),n){var r=e.triangles[e.giantTriIndex];r.setLifeTime(1e3*s),r.canDraw=!0,e.giantTriIndex++}},e.executeCueSet4=function(t){var i=t.currentCue,n=t.duration,s=!1,r=!1;if([1,4,6,7,8,9,10,11,14,16,17,18,19,20].includes(i%20)&&(s=!0,[4,9,12,19].includes(i%20)&&(r=!0)),s){var a=r?e.triangles[e.mediumTriIndex]:e.triangles[e.smallTriIndex];a.setLifeTime(1e3*n),a.canDraw=!0,r?e.mediumTriIndex++:e.smallTriIndex++}},e.mousePressed=function(){e.audioLoaded&&(e.song.isPlaying()?e.song.pause():(parseInt(e.song.currentTime())>=parseInt(e.song.buffer.duration)&&e.reset(),document.getElementById("play-icon").classList.add("fade-out"),e.canvas.addClass("fade-in"),e.song.play()))},e.creditsLogged=!1,e.logCredits=function(){!e.creditsLogged&&parseInt(e.song.currentTime())>=parseInt(e.song.buffer.duration)&&(e.creditsLogged=!0,console.log("Music By: http://labcat.nz/","\n","Animation By: https://github.com/LABCAT/"),e.song.stop())},e.reset=function(){},e.updateCanvasDimensions=function(){e.canvasWidth=window.innerWidth,e.canvasHeight=window.innerHeight,e.canvas=e.resizeCanvas(e.canvasWidth,e.canvasHeight)},window.attachEvent?window.attachEvent("onresize",(function(){e.updateCanvasDimensions()})):window.addEventListener&&window.addEventListener("resize",(function(){e.updateCanvasDimensions()}),!0)};return Object(n.useEffect)((function(){new o(t,e.current)}),[]),Object(d.jsx)("div",{ref:e,children:Object(d.jsx)(h,{})})};var x=function(){return Object(d.jsx)(w,{})};a.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(x,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.88d2f431.chunk.js.map