{"version":3,"sources":["js/helpers/Globals.js","js/functions/PlayIcon.js","js/functions/TetradicColourCalculator.js","js/functions/ShuffleArray.js","js/classes/AnimatedTriangle.js","audio/triangles-no-5.ogg","audio/triangles-no-5.mid","js/P5SketchWithAudio.js","js/App.js","index.js"],"names":["window","p5","PlayIcon","id","className","xmlns","height","viewBox","width","d","fill","TetradicColourCalulator","hue","saturation","brightness","set","i","colour","color","push","ShuffleArray","array","temporaryValue","randomIndex","currentIndex","length","Math","floor","random","AnimatedTriangle","destination","size","direction","lifetime","this","canDraw","p","currentFrame","setOrigin","setDirection","setLifeTime","origin","createVector","rotationDirection","frameRate","getFrameRate","totalFrames","x1","cos","y1","sin","x2","y2","x3","y3","pos","scale","min","dist","Vector","sub","mult","add","noStroke","translate","x","y","rotate","triangle","_getHue","_getAlpha","stroke","noFill","pop","P5SketchWithAudio","sketchRef","useRef","Sketch","canvas","canvasWidth","innerWidth","canvasHeight","innerHeight","audioLoaded","player","PPQ","bpm","barAsSeconds","loadMidi","Midi","fromUrl","midi","then","result","noteSet1","tracks","notes","noteSet2","noteSet3","noteSet4","scheduleCueSet","document","getElementById","classList","remove","preload","song","loadSound","audio","onended","logCredits","noteSet","callbackName","poly","lastTicks","currentCue","note","ticks","time","addCue","directions","triangles","packedTrianglesSet","setup","createCanvas","colorMode","HSB","angleMode","DEGREES","background","colourScheme","TetradicColourCalculator","currentColour","tri","r","overlapping","existingTri","draw","isPlaying","largeTriIndex","executeCueSet1","addTri","duration","includes","mediumTriIndex","smallTriIndex","executeCueSet2","medTri","giantTriIndex","executeCueSet3","executeCueSet4","mousePressed","pause","parseInt","currentTime","buffer","reset","addClass","play","creditsLogged","console","log","stop","updateCanvasDimensions","resizeCanvas","attachEvent","addEventListener","useEffect","current","ref","App","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.88d2f431.chunk.js","sourcesContent":["// p5.sound doesn't work correctly when p5 is not available in the global name space so we add it here\n// https://github.com/processing/p5.js-sound/issues/512\nimport * as p5 from \"p5\";\nwindow.p5 = p5;\n","export default function PlayIcon() {\n    return (\n        <svg id=\"play-icon\" className='fade-out' xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\n            <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n            <path d=\"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" />\n        </svg>\n    )\n}\n","function TetradicColourCalulator(p5, hue, saturation = 100, brightness = 100) {\n    let set = [];\n    let i = 0;\n    while(i < 4){\n        hue = hue + i * 90;\n        hue = hue < 360 ? hue : hue - 360;\n        const colour = p5.color(\n          hue,\n          saturation,\n          brightness,\n          1\n        );\n        set.push(colour);\n        i++;\n    }\n\n\n  return set;\n}\n\nexport default TetradicColourCalulator;","function ShuffleArray(array) {\n  var currentIndex = array.length,\n    temporaryValue,\n    randomIndex;\n\n  // While there remain elements to shuffle...\n  while (currentIndex !== 0) {\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    // And swap it with the current element.\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n}\n\nexport default ShuffleArray;\n","export default class AnimatedTriangle {\n    constructor(p5, destination, colour, size = 200, direction = 's-e', lifetime = 1000) {\n        this.canDraw = false;\n        this.p = p5;\n        this.destination = destination;\n        this.colour = colour;\n        this.size = size;\n        this.currentFrame = 0;\n        this.setOrigin(direction, destination);\n        this.setDirection(direction);\n        this.setLifeTime(lifetime);\n    }\n\n    setOrigin(direction, destination) {\n        switch (direction) {\n            case 'n-e':\n                this.origin = this.p.createVector(\n                   0, \n                   this.p.height\n                );\n                break;\n            case 's-e':\n                this.origin = this.p.createVector(\n                    0, \n                    0\n                );\n                break;\n            case 'n-w':\n                this.origin = this.p.createVector(\n                    this.p.width, \n                    this.p.height\n                );\n                break;\n            case 's-w':\n                this.origin = this.p.createVector(\n                    this.p.width, \n                    0\n                );\n                break;\n        }\n    }\n\n    setDirection(direction) {\n        this.direction = direction;\n        switch (direction) {\n            case 'n-e':\n                this.rotationDirection = -30;\n                break;\n            case 's-e':\n                this.rotationDirection = 30;\n                break;\n            case 'n-w':\n                this.rotationDirection = -150;\n                break;\n            case 's-w':\n                this.rotationDirection = 150;\n                break;\n        }\n    }\n\n    setLifeTime(lifetime) {\n        const frameRate = this.p.getFrameRate() ? this.p.getFrameRate() : 60;\n        this.totalFrames = frameRate / 1000 * lifetime;\n    }\n\n    draw() {\n        if(this.canDraw) {\n            const x1 = this.size * this.p.cos(0), y1 = this.size * this.p.sin(0);\n            const x2 = this.size * this.p.cos(120), y2 = this.size * this.p.sin(120);\n            const x3 = this.size * this.p.cos(240), y3 = this.size * this.p.sin(240);\n            let pos = this.destination;\n\n            if(this.currentFrame < this.totalFrames){\n                const scale = this.p.min(1, this.currentFrame / this.totalFrames),\n                    dist = window.p5.Vector.sub(this.destination, this.origin).mult(scale);\n                pos = window.p5.Vector.add(this.origin, dist);\n            }\n            this.p.push();\n            this.p.noStroke();\n            this.p.translate(pos.x, pos.y);\n            this.p.rotate(this.rotationDirection);\n            this.p.fill(this.colour);\n            this.p.triangle(x1, y1, x2, y2, x3, y3);\n            this.p.scale(0.9);\n            this.p.fill(this.colour._getHue(), 100, 25, this.colour._getAlpha());\n            this.p.triangle(0, 0, x2, y2, x3, y3);\n            this.p.fill(this.colour._getHue(), 100, 50, this.colour._getAlpha());\n            this.p.triangle(x1, y1, 0, 0, x3, y3);\n            this.p.fill(this.colour._getHue(), 100, 75, this.colour._getAlpha());\n            this.p.triangle(x1, y1, x2, y2, 0, 0);\n            this.p.stroke(360);\n            this.p.noFill();\n            this.p.scale(0.83333);\n            this.p.triangle(0, 0, x2, y2, x3, y3);\n            this.p.triangle(x1, y1, 0, 0, x3, y3);\n            this.p.triangle(x1, y1, x2, y2, 0, 0);\n            this.p.scale(1.33333);\n            this.p.rotate(-this.rotationDirection);\n            this.p.translate(-pos.x, -pos.y);\n            this.p.pop();\n            this.currentFrame++;\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/triangles-no-5.4621c75d.ogg\";","export default __webpack_public_path__ + \"static/media/triangles-no-5.3bc7d07c.mid\";","import React, { useRef, useEffect } from \"react\";\nimport \"./helpers/Globals\";\nimport \"p5/lib/addons/p5.sound\";\nimport * as p5 from \"p5\";\nimport { Midi } from '@tonejs/midi'\nimport PlayIcon from './functions/PlayIcon.js';\nimport TetradicColourCalculator from './functions/TetradicColourCalculator.js';\nimport ShuffleArray from './functions/ShuffleArray.js';\n\nimport AnimatedTriangle from './classes/AnimatedTriangle.js';\n\nimport audio from \"../audio/triangles-no-5.ogg\";\nimport midi from \"../audio/triangles-no-5.mid\";\n\nconst P5SketchWithAudio = () => {\n    const sketchRef = useRef();\n\n    const Sketch = p => {\n\n        p.canvas = null;\n\n        p.canvasWidth = window.innerWidth;\n\n        p.canvasHeight = window.innerHeight;\n\n        p.audioLoaded = false;\n\n        p.player = null;\n\n        p.PPQ = 3840 * 4;\n\n        p.bpm = 106;\n\n        p.barAsSeconds = 60 / p.bpm * 4;\n\n        p.loadMidi = () => {\n            Midi.fromUrl(midi).then(\n                function(result) {\n                    const noteSet1 = result.tracks[0].notes; // Sampler 1 -- TwinkleStars\n                    const noteSet2 = result.tracks[6].notes; // Dr Rex 2 -- FunkHat\n                    const noteSet3 = result.tracks[7].notes; // Thor 1 -- Scan Dance\n                    const noteSet4 = result.tracks[4].notes; // Dr Rex 1 -- Artefact\n                    p.scheduleCueSet(noteSet1, 'executeCueSet1');\n                    p.scheduleCueSet(noteSet2, 'executeCueSet2');\n                    p.scheduleCueSet(noteSet3, 'executeCueSet3');\n                    p.scheduleCueSet(noteSet4, 'executeCueSet4');\n                    p.audioLoaded = true;\n                    document.getElementById(\"loader\").classList.add(\"loading--complete\");\n                    document.getElementById(\"play-icon\").classList.remove(\"fade-out\");\n                }\n            );\n            \n        }\n\n        p.preload = () => {\n            p.song = p.loadSound(audio, p.loadMidi);\n            p.song.onended(p.logCredits);\n        }\n\n        p.scheduleCueSet = (noteSet, callbackName, poly = false)  => {\n            let lastTicks = -1,\n                currentCue = 1;\n            for (let i = 0; i < noteSet.length; i++) {\n                const note = noteSet[i],\n                    { ticks, time } = note;\n                if(ticks !== lastTicks || poly){\n                    note.currentCue = currentCue;\n                    p.song.addCue(time, p[callbackName], note);\n                    lastTicks = ticks;\n                    currentCue++;\n                }\n            }\n        } \n\n        p.directions = ['n-w', 's-w', 'n-e', 's-e'];\n\n        p.triangles = [];\n\n        p.packedTrianglesSet = [];\n\n        p.setup = () => {\n            p.canvas = p.createCanvas(p.canvasWidth, p.canvasHeight);\n            p.colorMode(p.HSB);\n            p.angleMode(p.DEGREES);\n            p.background(255);\n\n            p.directions = ShuffleArray(p.directions);\n            p.direction = p.directions[0];\n            p.colourScheme = TetradicColourCalculator(p, p.random(360));\n            let currentColour = p.colourScheme[0], \n                x = 0,\n                y = 0,\n                size = 0; \n\n            while(p.packedTrianglesSet.length < 222) {\n                x = p.random(0, p.width);\n                y = p.random(0, p.height);\n                if(p.packedTrianglesSet.length >= 106) {\n                    p.direction = p.directions[3];\n                    size = p.random(p.width/96, p.width/128);\n                    currentColour = p.colourScheme[3];\n                }\n                else if(p.packedTrianglesSet.length >= 76) {\n                    p.direction = p.directions[1];\n                    size = p.random(p.width/16, p.width/32);\n                    currentColour = p.colourScheme[2];\n                }\n                else if(p.packedTrianglesSet.length >= 20) {\n                    p.direction = p.directions[2];\n                    size = p.random(p.width/48, p.width/80);\n                    currentColour = p.colourScheme[1];\n                }\n                else {\n                    p.direction = p.directions[0];\n                    size = p.random(p.width/32, p.width/64);\n                }\n                const tri = {\n                    x: x,\n                    y: y,\n                    r: size\n                }\n                \n                let overlapping = false;\n                for (let i = 0; i < p.packedTrianglesSet.length; i++) {\n                    const existingTri = p.packedTrianglesSet[i];\n                    const distance = p.dist(tri.x, tri.y, existingTri.x, existingTri.y);\n                    if (distance < tri.r + existingTri.r) {\n                        overlapping = true;\n                        break;\n                    }\n                }\n                if(!overlapping) {\n                    p.packedTrianglesSet.push(tri);\n                    p.triangles.push(\n                        new AnimatedTriangle(p, p.createVector(x, y), currentColour, size, p.direction)\n                    )\n                }\n            }\n        }\n\n        p.draw = () => {\n            if(p.audioLoaded && p.song.isPlaying()){\n                p.background(255);\n                for (let i = 0; i < p.triangles.length; i++) {\n                    const triangle = p.triangles[i];\n                    triangle.draw();\n                }\n            }\n        }\n\n        p.largeTriIndex = 0;\n\n        p.executeCueSet1 = (note) => {\n            const { currentCue } = note;\n            let addTri = false, \n                duration = p.barAsSeconds;\n\n            if([1, 17, 33, 49, 57].includes(currentCue % 64)){\n                addTri = true;\n                duration = [49, 57].includes(currentCue % 64) ? duration / 2 : duration;\n            }      \n\n            if(addTri){\n                const triangle = p.triangles[p.largeTriIndex];\n                triangle.setLifeTime(duration * 1000);\n                triangle.canDraw = true;\n                p.largeTriIndex++\n            }\n        }\n\n        p.mediumTriIndex = 20;\n\n        p.smallTriIndex = 106;\n\n        p.executeCueSet2 = (note) => {\n            const { currentCue, duration } = note;\n            let addTri = false, \n                medTri = false;\n\n            if([1, 2, 3, 6, 7, 10, 11, 12, 16, 17, 18].includes(currentCue % 20)){\n                addTri = true;\n\n                if([3, 7, 12, 18].includes(currentCue % 20)){\n                    medTri = true\n                }\n            }      \n\n            if(addTri){\n                const triangle = medTri ? p.triangles[p.mediumTriIndex] : p.triangles[p.smallTriIndex];\n                triangle.setLifeTime(duration * 1000);\n                triangle.canDraw = true;\n                if(medTri) {\n                    p.mediumTriIndex++\n                }\n                else {\n                    p.smallTriIndex++\n                }\n                \n            }\n        }\n\n        p.giantTriIndex = 76;\n\n        p.executeCueSet3 = (note) => {\n            const { currentCue } = note;\n            let addTri = false, \n                duration = p.barAsSeconds;\n            \n\n            if([1, 10, 19, 28, 32].includes(currentCue % 36)){\n                addTri = true;\n                duration = [28, 32].includes(currentCue % 36) ? duration / 2 : duration;\n            }\n            \n            if(addTri){\n                const triangle = p.triangles[p.giantTriIndex];\n                triangle.setLifeTime(duration * 1000);\n                triangle.canDraw = true;\n                p.giantTriIndex++\n            }\n        }\n\n        p.executeCueSet4 = (note) => {\n            const { currentCue, duration } = note;\n            let addTri = false, \n                medTri = false;\n\n            if([1, 4, 6, 7, 8, 9, 10, 11, 14, 16, 17, 18, 19, 20].includes(currentCue % 20)){\n                addTri = true;\n\n                if([4, 9, 12, 19].includes(currentCue % 20)){\n                    medTri = true\n                }\n            }      \n\n            if(addTri){\n                const triangle = medTri ? p.triangles[p.mediumTriIndex] : p.triangles[p.smallTriIndex];\n                triangle.setLifeTime(duration * 1000);\n                triangle.canDraw = true;\n                if(medTri) {\n                    p.mediumTriIndex++\n                }\n                else {\n                    p.smallTriIndex++\n                }\n            }\n        }\n\n        p.mousePressed = () => {\n            if(p.audioLoaded){\n                if (p.song.isPlaying()) {\n                    p.song.pause();\n                } else {\n                    if (parseInt(p.song.currentTime()) >= parseInt(p.song.buffer.duration)) {\n                        p.reset();\n                    }\n                    document.getElementById(\"play-icon\").classList.add(\"fade-out\");\n                    p.canvas.addClass(\"fade-in\");\n                    p.song.play();\n                }\n            }\n        }\n\n        p.creditsLogged = false;\n\n        p.logCredits = () => {\n            if (\n                !p.creditsLogged &&\n                parseInt(p.song.currentTime()) >= parseInt(p.song.buffer.duration)\n            ) {\n                p.creditsLogged = true;\n                    console.log(\n                    \"Music By: http://labcat.nz/\",\n                    \"\\n\",\n                    \"Animation By: https://github.com/LABCAT/\"\n                );\n                p.song.stop();\n            }\n        };\n\n        p.reset = () => {\n\n        }\n\n        p.updateCanvasDimensions = () => {\n            p.canvasWidth = window.innerWidth;\n            p.canvasHeight = window.innerHeight;\n            p.canvas = p.resizeCanvas(p.canvasWidth, p.canvasHeight);\n        }\n\n        if (window.attachEvent) {\n            window.attachEvent(\n                'onresize',\n                function () {\n                    p.updateCanvasDimensions();\n                }\n            );\n        }\n        else if (window.addEventListener) {\n            window.addEventListener(\n                'resize',\n                function () {\n                    p.updateCanvasDimensions();\n                },\n                true\n            );\n        }\n        else {\n            //The browser does not support Javascript event binding\n        }\n    };\n\n    useEffect(() => {\n        new p5(Sketch, sketchRef.current);\n    }, []);\n\n    return (\n        <div ref={sketchRef}>\n            <PlayIcon />\n        </div>\n    );\n};\n\nexport default P5SketchWithAudio;\n","import P5SketchWithAudio from './P5SketchWithAudio'\n\nfunction App() {\n  return (\n    <P5SketchWithAudio/>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/build.css';\nimport App from './js/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}